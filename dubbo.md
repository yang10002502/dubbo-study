
# dubbo简介
Dubbo是阿里巴巴公司开源的一个高性能优秀的服务框架，使得应用可通过高性能的RPC实现服务的输出和输入功能，可以和Spring框架无缝集成。
Dubbo是一款高性能、轻量级的开源Java RPC框架，它提高了三大核心能力：面向接口的远程方法调用，智能容错和负载均衡，以及服务自动注册和发现。

# 架构

Dubbo包含provider、consumer、registry、monitor、container等角色
* provider：暴露服务的服务提供方
* consumer：调用远程服务的服务消费方
* registry：服务注册和发现的注册中心
* monitor：统计服务的调用次数和调用时间的监控中心
* container：服务运行容器

## 调用关系说明：
* 服务容器负责启动，加载，运行服务提供者
* 服务提供者在启动时，向注册中心注册自己提供的服务
* 服务消费者在启动时，向注册中心订阅自己所需的服务
* 注册中心返回服务提供者地址列表给消费者，如果有变更，注册中心将基于长链接推送变更数据给消费者
* 服务消费者，从提供者地址列表中，基于软负载均衡算法，选一台提供者进行调用，如果调用失败，再选另一台服务提供者调用
* 服务消费者和提供者，在内存中累计调用次数和调用时间，定时每分钟发送一次统计数据到监控中心

## 特性
* 面向接口代理的高性能RPC调用
    提供高性能的基于代理的远程调用能力，服务以接口为粒度，为开发者屏蔽远程调用底层细节。
* 智能负载均衡
    内置多种负载均衡策略，智能感知下游节点健康状况，显著减少调用延迟，提高系统吞吐量。
* 服务自动注册与发现
    支持多种注册中心服务，服务实例上下线实时感知。
* 高度可扩展能力
    遵循微内核+插件的设计原则，所有核心能力如Protocol、Transport、Serialization被设计为扩展点，平等对待内置实现和第三方实现。
* 运行期间流量调度
    内置条件、脚本等路由策略，通过配置不同的路由规则，轻松实现灰度发布，同机房优先等功能。
* 可视化的服务治理与运维
    提供丰富服务治理、运维工具：随时查询服务元数据、服务健康状态及调用统计、实时下发路由策略、调整配置参数。

## RPC和Restful

# RPC底层协议原理和实现

## RPC协议名词解释
在一个典型的RPC的使用场景中，包含了服务发现、负载、容错、网络传输、序列化等组件，其中RPC协议就知名了程序如何进行网络传输和序列化。也就是说一个RPC协议的实现就等于一个非透明的RPC调用，如何做到的呢？

协议的基本组成
* 地址：服务提供者地址
* 端口：协议指定开放的端口
* 运行服务
    * netty
    * mina
    * RMI服务
    * servlet容器（jetty、tomcat、jboss）
* 报文编码：协议报文编码（1：http报文编码；2：dubbo报文编码）
* 序列化方式
    * HessianSerialization
    * DubboSerialization
    * JavaSerialization
    * JsonSerialization



